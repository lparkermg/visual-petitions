define(["libs/knockout"],function(a){return function(){var b=this;b.petitionId=a.observable("0"),b.petitionAction=a.observable(""),b.petitionBackground=a.observable(""),b.petitionCreatedOn=a.observable(""),b.petitionCreator=a.observable(""),b.petitionSignatureCount=a.observable(""),b.petitionByConstituency=a.observableArray([]),b.petitionByCountry=a.observableArray([]),b.petitionState=a.observable(""),b.showByConstituency=a.observable(!1),b.showByCountry=a.observable(!1),b.loadSuccess=a.observable(!1),b.isLoading=a.observable(!1),b.errorMessages=a.observableArray([]),b.showErrors=a.computed(function(){return b.errorMessages().length>0?!0:!1}),b.LoadPetitionData=function(){b.isLoading(!0);var a=new XMLHttpRequest;a.open("GET",window.Config.BaseUrl+b.petitionId()+".json",!0),a.setRequestHeader("Accept","application/json"),a.onload=function(){if(this.status>=200&&this.status<400){var a=JSON.parse(this.response);window.Config.JsonData=a,b.petitionAction(a.data.attributes.action),b.petitionBackground(a.data.attributes.background),b.petitionCreatedOn(a.data.attributes.created_at),b.petitionCreator(a.data.attributes.creator_name),b.petitionSignatureCount(a.data.attributes.signature_count),b.petitionByConstituency(a.data.attributes.signatures_by_constituency),b.petitionByCountry(a.data.attributes.signatures_by_country),b.petitionState(a.data.attributes.state),b.isLoading(!1),b.loadSuccess(!0)}else b.isLoading(!1),b.loadSuccess(!1)},a.onerror=function(){b.isLoading(!1),b.loadSuccess(!1)},a.send()},b.toggleByCountries=function(){b.showByCountry(b.showByCountry()?!1:!0)},b.toggleByConstituencies=function(){b.showByConstituency(b.showByConstituency()?!1:!0)}}});